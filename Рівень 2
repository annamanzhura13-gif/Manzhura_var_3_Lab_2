import math

def create_and_check_matrix_symmetry():
    """
    –ó—á–∏—Ç—É—î —Ä—è–¥–æ–∫ —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –π–æ–≥–æ –Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç–Ω—É –º–∞—Ç—Ä–∏—Ü—é [n][n],
    —ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ó—ó —Å–∏–º–µ—Ç—Ä–∏—á–Ω—ñ—Å—Ç—å –≤—ñ–¥–Ω–æ—Å–Ω–æ –≥–æ–ª–æ–≤–Ω–æ—ó –¥—ñ–∞–≥–æ–Ω–∞–ª—ñ.
    """
    print("–í–≤–µ–¥—ñ—Ç—å —Ü—ñ–ª—ñ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–ø—É—Å–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: 1 2 3 4 5 6 7 8 9):")
    
    try:
        # 1. –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤ —Ü—ñ–ª—ñ —á–∏—Å–ª–∞
        input_str = input()
        
        # –†–æ–∑–¥—ñ–ª—è—î–º–æ —Ä—è–¥–æ–∫ –Ω–∞ –æ–∫—Ä–µ–º—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
        str_elements = input_str.split()
        
        # –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ —Ü—ñ–ª—ñ —á–∏—Å–ª–∞
        int_elements = [int(x) for x in str_elements]
        
    except ValueError:
        # –û–±—Ä–æ–±–∫–∞ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥—É, —è–∫—â–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–µ —î —Ü—ñ–ª–∏–º–∏ —á–∏—Å–ª–∞–º–∏
        print("‚ùå –ü–æ–º–∏–ª–∫–∞: –í—Å—ñ –≤–≤–µ–¥–µ–Ω—ñ –¥–∞–Ω—ñ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ —Ü—ñ–ª–∏–º–∏ —á–∏—Å–ª–∞–º–∏.")
        return
    except EOFError:
        print("‚ùå –ü–æ–º–∏–ª–∫–∞: –í–≤—ñ–¥ –Ω–µ –±—É–≤ –Ω–∞–¥–∞–Ω–∏–π.")
        return

    total_elements = len(int_elements)
    
    # 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –¥–ª—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ [n][n]
    
    # –ö—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—î –±—É—Ç–∏ –∫–≤–∞–¥—Ä–∞—Ç–æ–º —Ü—ñ–ª–æ–≥–æ —á–∏—Å–ª–∞ (n*n)
    n = int(math.sqrt(total_elements))
    if n * n != total_elements or n == 0:
        print(f"‚ùå –ü–æ–º–∏–ª–∫–∞: –ö—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ ({total_elements}) –Ω–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–≤–∞–¥—Ä–∞—Ç–Ω—É –º–∞—Ç—Ä–∏—Ü—é [n][n].")
        print("–ü–æ—Ç—Ä—ñ–±–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤: 1, 4, 9, 16, 25, —ñ —Ç.–¥.")
        return
    
    # 3. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è —É –¥–≤–æ–≤–∏–º—ñ—Ä–Ω–∏–π —Å–ø–∏—Å–æ–∫ [n][n]
    matrix = []
    current_index = 0
    for i in range(n):
        # –î–æ–¥–∞—î–º–æ —Ä—è–¥–æ–∫, —â–æ –º—ñ—Å—Ç–∏—Ç—å n –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
        row = int_elements[current_index:current_index + n]
        matrix.append(row)
        current_index += n
        
    print(f"\n‚úÖ –£—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è [{n}x{n}]:")
    for row in matrix:
        print(row)
        
    # 4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏–º–µ—Ç—Ä—ñ—ó –≤—ñ–¥–Ω–æ—Å–Ω–æ –≥–æ–ª–æ–≤–Ω–æ—ó –¥—ñ–∞–≥–æ–Ω–∞–ª—ñ
    is_symmetric = True
    
    # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ matrix[i][j] == matrix[j][i] –¥–ª—è –≤—Å—ñ—Ö i —Ç–∞ j
    for i in range(n):
        for j in range(i + 1, n): # –ü–æ—á–∏–Ω–∞—î–º–æ –∑ j = i + 1, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ª–∏—à–µ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤–∏—â–µ –¥—ñ–∞–≥–æ–Ω–∞–ª—ñ
            if matrix[i][j] != matrix[j][i]:
                is_symmetric = False
                # –Ø–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ —Ö–æ—á–∞ –± –æ–¥–Ω—É –Ω–µ—Å–∏–º–µ—Ç—Ä–∏—á–Ω—É –ø–∞—Ä—É, –ø—Ä–∏–ø–∏–Ω—è—î–º–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É
                break
        if not is_symmetric:
            break
            
    # 5. –í–∏–≤–µ–¥–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
    print("-" * 40)
    if is_symmetric:
        print("üåü –ú–∞—Ç—Ä–∏—Ü—è —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∞ –≤—ñ–¥–Ω–æ—Å–Ω–æ –≥–æ–ª–æ–≤–Ω–æ—ó –¥—ñ–∞–≥–æ–Ω–∞–ª—ñ.")
    else:
        print("üö´ –ú–∞—Ç—Ä–∏—Ü—è –ù–ï —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∞ –≤—ñ–¥–Ω–æ—Å–Ω–æ –≥–æ–ª–æ–≤–Ω–æ—ó –¥—ñ–∞–≥–æ–Ω–∞–ª—ñ.")

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏
if __name__ == "__main__":
    create_and_check_matrix_symmetry()
